<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/dropdown-meni.css">
  
  <script src="js/kalkulator.js"></script>
  
</head>
<body>
	<div class="container" >
		<div class="row">
			<div class="col-md-6 col-sm-12 col-xs-12">
				<img src="img/logo.png" alt="CET Skola Racunara" />
			</div>
			<div class="col-md-6 col-sm-12 col-xs-12 text-right">
				<span class="glyphicon glyphicon-earphone"></span> 011/1234-567
			</div>
		</div>
	</div>
	<div class="container-fluid glavni-meni">
		<div class="container">
			<div class="row">
				<div class="col-xs-12">
					<nav>
						<a href="index.html">Pocetna</a>
						<a href="cenovnik.html">Cenovnik</a>
						<a href="kontakt.html">Kontakt</a>
					</nav>
				</div>
			</div>
		</div>
	</div>
	<style>
		.crveno { color:red; }
	</style>
	<div class="container" style="background-color:white">
		<div class="row">
			<div class="col-md-12 glavni-sadrzaj">
				<main>
					<header>
						<h1>Kalkulator</h1>
					</header>
					
					
						Broj telefona 	<input type="text" value="4" class="ocena"
										onkeypress="return keypress(event, this)" onkeyup="telefon(event, this)"  /> <br/>
						Srpski 		<input type="text" value="3" class="ocena" 
										onkeypress="return keypress(event, this)"  /> <br/>
						Engleski 	<input type="text" value="2" class="ocena" 
										onkeypress="return keypress(event, this)"  /> <br/>
						Hemija 		<input type="text" value="5" class="ocena"
										onkeypress="return keypress(event, this)"  /> <br/>
						Fizika 		<input type="text" value="4" class="ocena"
										onkeypress="return keypress(event, this)"  /> <br/>
						Veronauka 	<input type="text" value="2" class="ocena"
										onkeypress="return keypress(event, this)"  /> <br/>
						
						<input type="button" value="Saberi" onclick=" saberi2(); " /> <br/>
						<!-- Zbir = <input type="text" id="zbir" value="" /> -->
						<span id="rezultat"></span> <br/>
						<span id="uspeh"></span>
						
						<hr/>
						
						<input type="text" id="brojevi" value="" placeholder="Brojevi razdvojeni zapetom" /> <br/>
						<input type="button" value="Prosek unetih brojeva" onclick=" prosek() " /> <br/>
						<span id="rezultat_proseka"></span><br/><br/>
				</main>
			</div>
			<script>
				/*
				function keyup( x ){
					console.log("keyup");
					console.log( x.value );
				}
				function keydown( x ){
					console.log("keydown");
					console.log( x.value );
				}
				*/
				
				function telefon(event, x){ //izvrsava se nakon keypress
					//proveri da li je uneto 3 karaktera, ako je duzina 3, dodaj kosu crtu
					if(x.value.length == 3 ){
						x.value = x.value + "/";
					}
					
					if(x.value.length == 7 ){
						x.value = x.value + "-";
					}
				
				}
				function keypress( event, x ){
					//console.log("keypress");
					console.log( event.keyCode );
					//console.log( x.value );
					
					//da li je pritisnuta cifra ili nesto drugo
					if( event.keyCode >= 48 && event.keyCode <= 57 ){
						//cifra je ok, prihvatam je, prvoerim da li je duzina 0, ako je 0 onda moze, ako je vece ne moze
						
						if( x.value.length<12 ){
							//ako je prazan - moze, ako nije prazan ne moze
							return true;
						} else {
							return false;
						}
						
						
					} else {
						//nesto drugo
						return false;
					}
				}
			
			
				function prosek(){
					var brojevi = document.getElementById("brojevi").value;
					
					brojevi = brojevi.split(",");
					
					console.log(brojevi);
					
					
					var zbir = 0;
					var i = 0;
					while( i < brojevi.length ){
						zbir = zbir + parseInt(brojevi[i]);
						
						//i = i+1;
						i++;
					}
					
					//za vezbanje - zbirka zadataka za informatiku 3 godina gimnazije, pascal ili c ili c#
					
					var zbir = 0;
					for( i = 0; i < brojevi.length; i++ ){
						zbir = zbir + parseInt(brojevi[i]);
					}
					
					
					console.log(zbir);
					
					//ako zelim da napravim prazan niz
					
					var pre_je_moralo_ovako = new Array();
					
					var niz = [];
					
					var defaultno_napunjen_niz = [ 'prvi', 2 ];
					//ima inekse 0,1,2
					
					defaultno_napunjen_niz[5] = 'poslednji element';
					defaultno_napunjen_niz["sesti_element"] = 6;
					
					console.log(defaultno_napunjen_niz);
					console.log(defaultno_napunjen_niz.length);
					
					//problem sa i++ za prolaz kroz niz!!
					
					//resenje
					
					for(i in defaultno_napunjen_niz){ //ovo prolazi kroz ceo niz, redom, i u promenljivu i smesta indekse, redom
						console.log(i);
						console.log(defaultno_napunjen_niz[i]);
					}
					//ovakav niz se zove asocijativni niz, hash mapa
				}
			</script>
			
			<script>
				function saberi2(){
					//imam 6 input polja, sa id-evima oblika pr___ , gde je broj od 1 do 6
					//treba da dohvatim sve njih i da saberem njihov value
					/*
					var zbir = 0;
					
					for( i = 1; i<=6; i++){
						id = "pr" + i;
						broj = parseInt(document.getElementById( id ).value);
						zbir = zbir+broj;
					}
					var prosek = zbir/6;
					document.getElementById("rezultat").innerHTML = prosek;
					*/
					
					//var ocena_inputs = document.getElementsByTagName('ocena')
					//var ocena_inputs = document.getElementsByName('ocena')
					//var ocena_inputs = document.getElementsByClassName('ocena')
					
					var ocena_input_prvi = document.querySelector('input.ocena'); //css putanja
					
					
					//daje mi sve onoe koji imaju klasu ocena, kao niz tagova
					var ocena_inputs = document.querySelectorAll('input.ocena');
					console.log(ocena_inputs);
					//da bih ih sabrao - petlja!
					
					zbir = 0;
					for( i=0; i<ocena_inputs.length; i++ ){
						zbir = zbir + parseInt(ocena_inputs[i].value);
						ocena_inputs[i].style.backgroundColor = 'red';
					}
					console.log(zbir / ocena_inputs.length );
				}
			</script>
		</div>
	</div>
	<div class="container-fluid">
		<footer>
			<p>
				CET skola racunara <br/>
				Knez Mihajlova 6/6
			</p>
		</footer>
	</div>
</body>
</html>